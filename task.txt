1.Налаштуйте інфраструктуру AWS за допомогою Terraform:

● Створіть S3 бакет:

○ Створіть S3 бакет для зберігання файлів стану Terraform.

● Визначіть VPC і мережеву інфраструктуру:

○ Використайте Terraform для створення VPC із публічною та приватною підмережами: 1 публічна (Jenkins master) і 1 приватна (Jenkins worker).

○ Налаштуйте Internet Gateway та NAT Gateway.

● Запустіть екземпляри EC2:

○ Додайте свій SSH-ключ для доступу до EC2 у публічній підмережі.

○ Створіть групу безпеки, що дозволяє доступ по SSH і HTTP.

○ Запустіть on-demand екземпляр EC2 для Jenkins master і spot-екземпляр для Jenkins worker у створених підмережах. Додайте свій публічний SSH-ключ за допомогою user-data Terraform.

○ Використовуйте змінні та вихідні значення для керування конфігураціями.

2.Налаштуйте Jenkins master за допомогою Ansible:

● Напишіть Ansible playbook для встановлення Jenkins на розгорнутому екземплярі EC2.

● Встановіть nginx і налаштуйте його як зворотний проксі для веб-сервера Jenkins за допомогою Ansible.

3.Налаштуйте Jenkins:

● Додайте Jenkins worker до Jenkins master.

● Розгорніть той самий pipeline із Step project 2 та перевірте, що він працює належним чином.

4.Наприкінці знищіть всі ресурси.

Примітка: увесь код розгортання (Terraform, Ansible, Jenkinsfile тощо) має зберігатися в репозиторії GitHub.





ENG:



1. Set Up AWS Infrastructure with Terraform:

●     Create S3 Bucket:

○     Create an S3 bucket to store Terraform state files.

●     Define VPC and Networking:

○     Use Terraform to create a Virtual Private Cloud (VPC) with public and private subnets. 1 public (Jenkins master) and 1 private (Jenkins worker)

○     Set up Internet Gateway and NAT Gateway.

●     Launch EC2 Instances:

○     Add your ssh-key for access to EC2 in public subnet.

○     Create a security group to allow SSH and HTTP access.

○     Launch on-demand EC2 instance for Jenkins master and spot instance for Jenkins worker within the created subnets. Add your public SSH key using terraform user-data.

○     Use variables and output values to manage configurations.

2. Set Up Jenkins master with Ansible:

●     Write an Ansible playbook to install Jenkins on the deployed EC2 instance.

●     Install nginx and configure it as a reverse proxy for Jenkins web server using Ansible

3. Set Up Jenkins

●     Add a Jenkins worker to the Jenkins master.

●     Deploy the same pipeline from Step project 2 and check if it's working as expected.

4. Destroy all resources in the end.

Note: all deployment code (Terrafrom, Ansible, Jenkinsfile etc) should be stored in the GitHub repository.





Формат здачі:

1. Код створення S3 бакета

2. Код створення інфраструктури

3. Скріни створення інфраструктури (все покроково, як в завданні)

4. Код Ansible playbook yaml file

5. Код конфіга nginx

6. Скріни всіх дій, які робляться вручну

7. Код пайплайну й скріни відпрацювання його

8. Скріни видалення всього створеного