# AWS Terraform + Ansible + Jenkins

## –û–ø–∏—Å

–£ —Ü—å–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è AWS-—ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–ª—è Jenkins CI/CD:
- VPC –∑ –ø—É–±–ª—ñ—á–Ω–æ—é —Ç–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—é –ø—ñ–¥–º–µ—Ä–µ–∂–∞–º–∏
- EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–∏ –¥–ª—è Jenkins master —Ç–∞ worker
- Security Groups –∑ –±–µ–∑–ø–µ—á–Ω–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –¥–æ—Å—Ç—É–ø—É
- Internet Gateway, NAT Gateway
- S3 bucket –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è Terraform state
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Jenkins, nginx, Java, Docker, Node.js —á–µ—Ä–µ–∑ Ansible
- –ì–æ—Ç–æ–≤–∏–π pipeline –¥–ª—è –∑–±—ñ—Ä–∫–∏, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É Docker-–æ–±—Ä–∞–∑—ñ–≤

–í—Å—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞ —Å–æ—Ñ—Ç —Ä–æ–∑–≥–æ—Ä—Ç–∞—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Terraform —Ç–∞ Ansible.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª—ñ–∑—É—î –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω—É CI/CD —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Terraform, Ansible —Ç–∞ Jenkins. –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

- **AWS**: –•–º–∞—Ä–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
- **Terraform**: –û–ø–∏—Å—É—î —Ç–∞ —Å—Ç–≤–æ—Ä—é—î –≤—Å—ñ —Ä–µ—Å—É—Ä—Å–∏ AWS (VPC, Subnet, EC2, Security Group, S3).
- **Ansible**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Jenkins, nginx, Java, Docker, Node.js –Ω–∞ EC2.
- **Jenkins**: CI/CD —Å–µ—Ä–≤–µ—Ä, master —Ç–∞ worker (agent) –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è pipeline.
- **Docker**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–±—ñ—Ä–∫–∏ —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞—Ç–∫—ñ–≤ –Ω–∞ worker-node.

### –í–∑–∞—î–º–æ–¥—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
- **Terraform** —Å—Ç–≤–æ—Ä—é—î —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É: VPC, –ø—ñ–¥–º–µ—Ä–µ–∂—ñ, EC2 (master/worker), Security Groups, S3 –¥–ª—è —Å—Ç–µ–π—Ç—É.
- **Ansible** –∫–æ–Ω—Ñ—ñ–≥—É—Ä—É—î EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–∏: –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Jenkins master, –Ω–∞–ª–∞—à—Ç–æ–≤—É—î worker (Java, Docker, Node.js, SSH).
- **Jenkins master** –∫–µ—Ä—É—î pipeline, –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ worker —á–µ—Ä–µ–∑ SSH (–∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º credentials, –±–µ–∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞).
- **Worker-node** –≤–∏–∫–æ–Ω—É—î CI/CD job, –∑–±–∏—Ä–∞—î Docker-–æ–±—Ä–∞–∑–∏, –∑–∞–ø—É—Å–∫–∞—î —Ç–µ—Å—Ç–∏, –ø—É—à–∏—Ç—å –æ–±—Ä–∞–∑–∏ –Ω–∞ Docker Hub.

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø, —ñ–∑–æ–ª—è—Ü—ñ—é —Å–µ—Ä–µ–¥–æ–≤–∏—â, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—é –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç—É —Ç–∞ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```text
üìÅ terraform/
‚îî‚îÄ‚îÄ enviroments/
    ‚îî‚îÄ‚îÄ dev/
        ‚îú‚îÄ‚îÄ main.tf           # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª, –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤
        ‚îú‚îÄ‚îÄ variables.tf      # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
        ‚îú‚îÄ‚îÄ dev.tfvars        # –ó–Ω–∞—á–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö –¥–ª—è dev
        ‚îú‚îÄ‚îÄ locals.tf         # –õ–æ–∫–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        ‚îú‚îÄ‚îÄ data.tf           # Data sources
        ‚îú‚îÄ‚îÄ terraform.tf      # Backend —Ç–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏
        ‚îú‚îÄ‚îÄ ansible_hosts.tpl # –®–∞–±–ª–æ–Ω —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è –¥–ª—è Ansible
        ‚îú‚îÄ‚îÄ ansible_hosts     # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π —ñ–Ω–≤–µ–Ω—Ç–∞—Ä –¥–ª—è Ansible
        ‚îî‚îÄ‚îÄ .terraform.lock.hcl # Lock-—Ñ–∞–π–ª –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
üìÅ modules/
‚îú‚îÄ‚îÄ vpc/                # –ú–æ–¥—É–ª—å VPC
‚îÇ   ‚îú‚îÄ‚îÄ vpc.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ public_subnet/      # –ú–æ–¥—É–ª—å –ø—É–±–ª—ñ—á–Ω–æ—ó –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
‚îÇ   ‚îú‚îÄ‚îÄ public_subnet.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ private_subnet/     # –ú–æ–¥—É–ª—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó –ø—ñ–¥–º–µ—Ä–µ–∂—ñ
‚îÇ   ‚îú‚îÄ‚îÄ private_subnet.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ internet_gateway/   # –ú–æ–¥—É–ª—å Internet Gateway
‚îÇ   ‚îú‚îÄ‚îÄ internet_getway.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ nat_gateway/        # –ú–æ–¥—É–ª—å NAT Gateway
‚îÇ   ‚îú‚îÄ‚îÄ nat_getway.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îú‚îÄ‚îÄ network/            # –ú–æ–¥—É–ª—å Security Groups
‚îÇ   ‚îú‚îÄ‚îÄ security_group.tf
‚îÇ   ‚îú‚îÄ‚îÄ variables.tf
‚îÇ   ‚îî‚îÄ‚îÄ outputs.tf
‚îî‚îÄ‚îÄ ec2/                # –ú–æ–¥—É–ª—å EC2 —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤
    ‚îú‚îÄ‚îÄ ec2.tf
    ‚îú‚îÄ‚îÄ variables.tf
    ‚îî‚îÄ‚îÄ outputs.tf
```

## –°—Ö–µ–º–∞ –º–µ—Ä–µ–∂—ñ AWS

```text
                +-------------------+
                |    S3 Bucket      |
                +-------------------+
                         ^
                         |
                 Terraform State
                         |
+-------------------------------------------------------------+
|                         VPC (10.0.0.0/16)                   |
|                                                             |
|   +-------------------+           +-------------------+     |
|   |  Public Subnet    |           |  Private Subnet   |     |
|   |   (10.0.1.0/24)   |           |   (10.0.2.0/24)   |     |
|   |                   |           |                   |     |
|   | +---------------+ |           | +---------------+ |     |
|   | | EC2 Master    | |           | | EC2 Worker    | |     |
|   | | Jenkins/nginx | |           | | Docker/Node.js| |     |
|   | +---------------+ |           | +---------------+ |     |
|   +-------------------+           +-------------------+     |
|         |      ^                          ^                 |
|         |      |                          |                 |
|         v      |                          |                 |
|   +-------------------+                   |                 |
|   | Internet Gateway  |                   |                 |
|   +-------------------+                   |                 |
|         |                                 |                 |
|         v                                 |                 |
|   +-------------------+                   |                 |
|   |   NAT Gateway     |-------------------+                 |
|   +-------------------+                                     |
+-------------------------------------------------------------+
```

## üß† –©–æ —Ä–æ–±–∏—Ç—å Terraform

Terraform ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø–∏—Å—É —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ö–º–∞—Ä–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —è–∫ –∫–æ–¥—É (IaC). –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î:
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ AWS (VPC, EC2, Security Groups, S3) —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ñ —Ñ–∞–π–ª–∏.
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —á–µ—Ä–µ–∑ state-—Ñ–∞–π–ª.
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–æ–¥—É–ª—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â.
- –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å—ñ–π —Ç–∞ –∫–æ–º–∞–Ω–¥–Ω—É —Ä–æ–±–æ—Ç—É –Ω–∞–¥ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é.

## –ß–æ–º—É Terraform —ñ Ansible?

**Terraform** ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø–∏—Å—É —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ö–º–∞—Ä–Ω–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —è–∫ –∫–æ–¥—É (IaC). –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î:
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ AWS (VPC, EC2, Security Groups, S3) —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ñ —Ñ–∞–π–ª–∏.
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ –≤—Å—ñ –∑–º—ñ–Ω–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —á–µ—Ä–µ–∑ state-—Ñ–∞–π–ª.
- –ú–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ —Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–æ–¥—É–ª—ñ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â.
- –ó–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–µ—Ä—Å—ñ–π —Ç–∞ –∫–æ–º–∞–Ω–¥–Ω—É —Ä–æ–±–æ—Ç—É –Ω–∞–¥ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é.

**Ansible** ‚Äî —Ü–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó —Å–µ—Ä–≤–µ—Ä—ñ–≤ —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–æ—Ñ—Ç—É. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î:
- –í—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ Jenkins, nginx, Java, Docker, Node.js –Ω–∞ EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–∏.
- –û–ø–∏—Å—É–≤–∞—Ç–∏ –≤—Å—ñ –¥—ñ—ó —É –≤–∏–≥–ª—è–¥—ñ playbook (yaml-—Ñ–∞–π–ª–∏), —â–æ –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏.
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –¥–µ–ø–ª–æ–π, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–µ–∑ —Ä—É—á–Ω–∏—Ö –≤—Ç—Ä—É—á–∞–Ω—å.
- –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –±–µ–∑ –∞–≥–µ–Ω—Ç—ñ–≤ ‚Äî –ª–∏—à–µ —á–µ—Ä–µ–∑ SSH.

### –ß–æ–º—É –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∞–º–µ Terraform —ñ Ansible?
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è**: –í—Å—ñ —Ä–µ—Å—É—Ä—Å–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –±–µ–∑ —Ä—É—á–Ω–æ—ó —Ä–æ–±–æ—Ç–∏.
- **–í—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å**: –ú–æ–∂–Ω–∞ —à–≤–∏–¥–∫–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ç–µ—Å—Ç—É, –ø—Ä–æ–¥–∞–∫—à–Ω —á–∏ recovery.
- **–ë–µ–∑–ø–µ–∫–∞**: –ß—ñ—Ç–∫–æ –∫–æ–Ω—Ç—Ä–æ–ª—é—é—Ç—å—Å—è –≤—Å—ñ –¥–æ—Å—Ç—É–ø–∏, –∫–ª—é—á—ñ, –ø—Ä–∞–≤–∏–ª–∞ firewall.
- **–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏, –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é, –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
- **–ó—Ä—É—á–Ω—ñ—Å—Ç—å**: –í–µ—Å—å –ø—Ä–æ—Ü–µ—Å –æ–ø–∏—Å–∞–Ω–∏–π —É –∫–æ–¥—ñ, –ª–µ–≥–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏, –æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—ñ.

Terraform —ñ Ansible ‚Äî —Ü–µ —Å—É—á–∞—Å–Ω–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è DevOps, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î —à–≤–∏–¥–∫–æ, –±–µ–∑–ø–µ—á–Ω–æ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —Ç–∞ —Å–æ—Ñ—Ç–æ–º.
## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î:

- ‚úÖ AWS –∞–∫–∫–∞—É–Ω—Ç (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier –ø—ñ–¥—ñ–π–¥–µ)
- ‚è≥ AWS CLI (–≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –≤ –∫—Ä–æ—Ü—ñ 1)
- ‚è≥ Terraform (–≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –≤ –∫—Ä–æ—Ü—ñ 2)
- ‚úÖ –ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (VS Code —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)

## üîê –ö—Ä–æ–∫ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –¥–æ—Å—Ç—É–ø—É

**–ú–µ—Ç–∞**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ AWS CLI —ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ AWS –¥–ª—è Terraform

### 1.1 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è AWS CLI

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (aws-cli/2.31.32)

AWS CLI –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ AWS –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞. Terraform –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ –∂ —Å–∞–º—ñ credentials.

**üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [install-aws-cli.md](docs/install-aws-cli.md)  

**–®–≤–∏–¥–∫–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è Windows:**
1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ MSI installer: https://awscli.amazonaws.com/AWSCLIV2.msi
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å installer ‚Üí –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω–∞–ª
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: `aws --version` (–º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ aws-cli/2.31.32)

### 1.2 –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ S3

**‚ùå –ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á AWS –Ω–µ –º–∞–≤ –ø—Ä–∞–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è S3 bucket —Ç–∞ —Ä–æ–±–æ—Ç–∏ –∑ Terraform backend.

**üîç –ü—Ä–∏—á–∏–Ω–∞**: –£ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ AWS –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±—É–ª–∏ –æ–±–º–µ–∂—É–≤–∞–ª—å–Ω—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ (explicit deny), —è–∫—ñ –±–ª–æ–∫—É–≤–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ S3 —Å–µ—Ä–≤—ñ—Å—É.

**‚úÖ –†—ñ—à–µ–Ω–Ω—è**: –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è Terraform –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏.


## üõ†Ô∏è –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Terraform

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (Terraform v1.13.5)

**–ú–µ—Ç–∞**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Terraform –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —è–∫ –∫–æ–¥ (IaC)

**üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [install-terraform.md](docs/install-terraform.md)

**–®–≤–∏–¥–∫–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:**
1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ https://www.terraform.io/downloads.html
2. –†–æ–∑–ø–∞–∫—É–≤–∞—Ç–∏ —ñ –¥–æ–¥–∞—Ç–∏ –¥–æ PATH
3. –ê–±–æ —á–µ—Ä–µ–∑ winget: `winget install Hashicorp.Terraform`
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: `terraform --version` (–º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ v1.13.5)

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
1. –°—Ç–≤–æ—Ä—ñ—Ç—å IAM –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–º'—è–º `sk-terraform-user`. **üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [create-terraform-user.md](docs/create-terraform-user.md)
2. –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ –¥–ª—è –Ω—å–æ–≥–æ Access Key —Ç–∞ Secret Key (**üìã –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è credentials**: [aws-credentials-setup.md](docs/aws-credentials-setup.md)).
3. –î–æ–¥–∞–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Ç–∞–∫—ñ –ø—Ä–∞–≤–∞:
   - `AmazonEC2FullAccess`
   - –ö–∞—Å—Ç–æ–º–Ω–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ `S3AccessOnlyToSvitlanaKizilpinarBucket` ([–¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ EC2 –ø–æ–ª—ñ—Ç–∏–∫–∏](docs/add-ec2-permissions.md)).
4. –ù–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ –Ω–æ–≤–∏–π S3 bucket! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–∂–µ –Ω–∞–¥–∞–Ω–∏–π bucket: `terraform-state-danit10-devops` (region: eu-central-1).

> **–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–π S3 bucket –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤–∂–µ —ñ—Å–Ω—É—é—á–∏–π bucket –≤—ñ–¥ —à–∫–æ–ª–∏: `terraform-state-danit10-devops` (region: eu-central-1).

![S3_bucket_school](Screens/6.1_s3_bucket.png)

## üóÑÔ∏è –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è S3 Bucket –¥–ª—è Terraform state

**–ú–µ—Ç–∞:** –ù–∞–¥—ñ–π–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ Terraform state-—Ñ–∞–π–ª —É —Ö–º–∞—Ä—ñ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ—ó —Ä–æ–±–æ—Ç–∏, —Ä–µ–∑–µ—Ä–≤—É–≤–∞–Ω–Ω—è —Ç–∞ –±–µ–∑–ø–µ–∫–∏.

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è S3 bucket –∑ versioning, —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º —Ç–∞ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è–º –ø—É–±–ª—ñ—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É.
- –î–ª—è production ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ DynamoDB –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è state.

**–î–µ—Ç–∞–ª—å–Ω–∞ –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:** [docs/s3-backend-guide.md](docs/s3-backend-guide.md)

**–ö–æ—Ä–æ—Ç–∫–æ:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ AWS S3 Console ‚Üí Create bucket
2. –í–∫–∞–∂—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º'—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `terraform-state-svitlana-vpc`), —Ä–µ–≥—ñ–æ–Ω `eu-central-1`
3. –£–≤—ñ–º–∫–Ω—ñ—Ç—å Block all public access, Versioning, Encryption (AES-256)
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å bucket ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –π–æ–≥–æ –¥–ª—è backend —É Terraform

## ‚ö° –ö—Ä–æ–∫ 4: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –∑–∞–ø—É—Å–∫ Terraform

**–ú–µ—Ç–∞:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—Å—é AWS-—ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –ø–∞–ø–∫—É –∑ –≤–∞—à–∏–º —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º:
   ```bash
   cd terraform/enviroments/dev
   ```
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é, –ø–ª–∞–Ω –∞–±–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç:
   ```bash
   bash ../../terraform-init.sh dev init
   bash ../../terraform-init.sh dev plan
   bash ../../terraform-init.sh dev apply
   ```
   > –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑—É—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫—Ä–æ–∫–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Terraform —É —Ü—å–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ.

3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏ –≤ AWS Console (EC2, VPC, S3, Security Groups).
4. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ outputs Terraform ‚Äî —Ç–∞–º –±—É–¥—É—Ç—å IP-–∞–¥—Ä–µ—Å–∏, —ñ–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤ —Ç–æ—â–æ.

**–ü–æ—Ä–∞–¥–∞:**
- –î–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É/–∑–º—ñ–Ω–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç—ñ –∂ –∫–æ–º–∞–Ω–¥–∏.
- –í—Å—ñ –∑–º—ñ–Ω–∏ –≤—ñ–¥—Å—Ç–µ–∂—É—é—Ç—å—Å—è —É S3 bucket —á–µ—Ä–µ–∑ Terraform state.


## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ Terraform

| ‚Ññ  | –†–µ—Å—É—Ä—Å/–ï—Ç–∞–ø            | –û–ø–∏—Å/–¢–∏–ø                            | –°–∫—Ä–∏–Ω—à–æ—Ç                                                                      |
|----|------------------------|-------------------------------------|-------------------------------------------------------------------------------|
| 1  | VPC                    | –û—Å–Ω–æ–≤–Ω–∞ –º–µ—Ä–µ–∂–∞                      | ![VPC](Screens/7.1_vpc.png)                                                   |
| 2  | Public Subnet          | –ü—É–±–ª—ñ—á–Ω–∞ –ø—ñ–¥–º–µ—Ä–µ–∂–∞                  | ![Public Subnet](Screens/8.1_public_subnet.png)                               |
| 3  | Private Subnet         | –ü—Ä–∏–≤–∞—Ç–Ω–∞ –ø—ñ–¥–º–µ—Ä–µ–∂–∞                  | ![Private Subnet](Screens/8.2_private_subnet.png)                             |
| 4  | Public Route Table     | –¢–∞–±–ª–∏—Ü—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤                   | ![RouteTable](Screens/9.1_public_route_table.png)                             |
| 5  | Pub. Route Table Assoc.| –ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤                 | ![RouteTableAssoc](Screens/9.1.1_public_route_table_subnet_associations.png)  |
| 6  | Privat Route Table     | –¢–∞–±–ª–∏—Ü—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤                   | ![RouteTable](Screens/9.2_private_route_table.png)                            |
| 7  | Pri. Route Table Assoc.| –ê—Å–æ—Ü—ñ–∞—Ü—ñ—è –º–∞—Ä—à—Ä—É—Ç—ñ–≤                 | ![RouteTableAssoc](Screens/9.2.1_private_route_table_subnet_associations.png) |
| 8  | Internet Gateway       | –î–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É                 | ![IGW](Screens/10.1_internet_getway.png)                                      |
| 9  | NAT Gateway            | –í–∏—Ö—ñ–¥ —É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ—ó –º–µ—Ä–µ–∂—ñ | ![NATGW](Screens/11.1_nat_getway.png)                                         |
| 10 | Pub.Security Groups    | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.1_public_security_group.png)                                 |
| 11 | Pub.SG Outbound rule   | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.1.2_public_security_group_outbound_rule.png)                 |
| 12 | Pub.SG Inbound rule    | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.1.1_public_security_group_inbound_rule.png)                  |
| 13 | Pri.Security Groups    | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.2_private_security_group.png)                                |
| 14 | Pri.SG Outbound rule   | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.2.2_private_security_group_outbound_rule.png)                |
| 15 | Pri.SG Inbound rule    | Firewall –ø—Ä–∞–≤–∏–ª–∞                    | ![SG](Screens/12.2.1_private_security_group_inbound_rule.png)                 |
| 16 | EC2 Master             | Jenkins/nginx                       | ![EC2Master](Screens/13.1_public_EC2.png)                                     |
| 17 | EC2 Master lifecycle   | Jenkins/nginx                       | ![EC2Master](Screens/13.1.1_public_EC2_lifecycle.png)                         |
| 18 | EC2 Master security    | Jenkins/nginx                       | ![EC2Master](Screens/13.1.2_public_EC2_security.png)                          |
| 19 | EC2 Worker             | Docker/Node.js                      | ![EC2Worker](Screens/13.1_public_EC2.png)                                     |
| 20 | EC2 Worker lifecycle   | Docker/Node.js                      | ![EC2Worker](Screens/13.2.1_private_EC2_lifecycle.png)                        |
| 21 | EC2 Worker security    | Docker/Node.js                      | ![EC2Worker](Screens/13.2.2_private_EC2_security.png)                         |

---

> **–í—Å—ñ —Ä–µ—Å—É—Ä—Å–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Terraform. –°–∫—Ä–∏–Ω—à–æ—Ç–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å —É—Å–ø—ñ—à–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç—É —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏.**

## üöÄ –ö—Ä–æ–∫ 5: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Ansible —Ç–∞ —Å–µ—Ä–≤–µ—Ä—ñ–≤

**–ú–µ—Ç–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–æ—Ñ—Ç—É –Ω–∞ EC2 —ñ–Ω—Å—Ç–∞–Ω—Å–∞—Ö

### 1Ô∏è‚É£ –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è SSH-–∫–ª—é—á—ñ–≤ —É Ubuntu (WSL)
–£ Windows –∫–ª—é—á—ñ:
```
C:\Users\Svitlana\.ssh\id_rsa
C:\Users\Svitlana\.ssh\id_rsa.pub
```
–£ WSL (Ubuntu) –≤–∏–∫–æ–Ω–∞–π—Ç–µ:
```bash
mkdir -p ~/.ssh
cp /mnt/c/Users/Svitlana/.ssh/id_rsa ~/.ssh/id_rsa
cp /mnt/c/Users/Svitlana/.ssh/id_rsa.pub ~/.ssh/id_rsa.pub
chmod 600 ~/.ssh/id_rsa
```
![Add_SSH](Screens/6.1_UBUNTU_Add_SSH_Key.png)

### 2Ô∏è‚É£ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ SSH –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
```bash
ssh -i ~/.ssh/id_rsa ubuntu@<PUBLIC_IP>

–ê–±–æ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ worker —á–µ—Ä–µ–∑ jump host:
```bash
ssh -i ~/.ssh/id_rsa -o ProxyCommand="ssh -i ~/.ssh/id_rsa -W %h:%p ubuntu@<PUBLIC_IP>" ubuntu@<PRIVATE_IP>
```
–î–µ `<PUBLIC_IP>` ‚Äî IP master (jump host), `<PRIVATE_IP>` ‚Äî IP worker.
```

### 3Ô∏è‚É£ Ansible inventory —à–∞–±–ª–æ–Ω
–£ `terraform/environments/dev/ansible_hosts.tpl`:
```ini
[jump]
${public_ip}

[worker]
${private_ip}

[jump:vars]
ansible_user=ubuntu
ansible_ssh_private_key_file=~/.ssh/id_rsa

[worker:vars]
ansible_user=ubuntu
ansible_ssh_private_key_file=~/.ssh/id_rsa
ansible_ssh_common_args='-o ProxyCommand="ssh -i ~/.ssh/id_rsa -W %h:%p ubuntu@${public_ip}"'
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ Ansible playbook
```bash
ansible-playbook -i terraform/environments/dev/ansible_hosts playbook.yml
```
![ansible_playbook](Screens/Ansible_playbook.png)

### 5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ playbook –¥–ª—è worker
–ü—ñ—Å–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ playbook –∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –¥–ª—è worker:
```bash
ansible-playbook -i terraform/environments/dev/ansible_hosts worker_playbook.yml
```
![ansible_worker_playbook](Screens/Ansible_worker_playbook.png)

> **–¶–µ–π playbook –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î Docker, Node.js —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –Ω–∞ worker-node –¥–ª—è —Ä–æ–±–æ—Ç–∏ pipeline.

> **–í–∞–∂–ª–∏–≤–æ!** –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É playbook —É –∫—ñ–Ω—Ü—ñ –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ initial admin password –¥–ª—è Jenkins. –ó–±–µ—Ä–µ–∂—ñ—Ç—å —Ü–µ–π –ø–∞—Ä–æ–ª—å ‚Äî –≤—ñ–Ω –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –≤—Ö–æ–¥—É –≤ Jenkins.

---

## ‚öôÔ∏è –ö—Ä–æ–∫ 6: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Jenkins —Ç–∞ pipeline

–î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –ø–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—é Jenkins —Ç–∞ pipeline ‚Äî —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó:

üëâ [docs/jenkins-setup.md](docs/jenkins-setup.md)

## üéâ –ö—Ä–æ–∫ 6: –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è

–£—Å–ø—ñ—à–Ω–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–æ CI/CD —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ AWS –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Terraform, Ansible —Ç–∞ Jenkins.

–¢–µ–ø–µ—Ä –º–æ–∂–µ–º–æ:
- –®–≤–∏–¥–∫–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ –Ω–æ–≤—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è, –ø—Ä–æ–¥–∞–∫—à–Ω —Ç–æ—â–æ.
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∞—à–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤.

