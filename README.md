
# AWS Terraform + Ansible Project

## –û–ø–∏—Å



## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
```

```

## üß† –©–æ —Ä–æ–±–∏—Ç—å Terraform


## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î:

- ‚úÖ AWS –∞–∫–∫–∞—É–Ω—Ç (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π tier –ø—ñ–¥—ñ–π–¥–µ)
- ‚è≥ AWS CLI (–≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –≤ –∫—Ä–æ—Ü—ñ 1)
- ‚è≥ Terraform (–≤—Å—Ç–∞–Ω–æ–≤–∏–º–æ –≤ –∫—Ä–æ—Ü—ñ 2)
- ‚úÖ –ë–∞–∑–æ–≤–µ —Ä–æ–∑—É–º—ñ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞
- ‚úÖ –¢–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (VS Code —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)

## üîê –ö—Ä–æ–∫ 1: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –¥–æ—Å—Ç—É–ø—É

**–ú–µ—Ç–∞**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ AWS CLI —ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ AWS –¥–ª—è Terraform

### 1.1 –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è AWS CLI

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (aws-cli/2.31.32)

AWS CLI –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ AWS –∑ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞. Terraform –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ –∂ —Å–∞–º—ñ credentials.

**üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [install-aws-cli.md](docs/install-aws-cli.md)  

**–®–≤–∏–¥–∫–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–ª—è Windows:**
1. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ MSI installer: https://awscli.amazonaws.com/AWSCLIV2.msi
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å installer ‚Üí –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω–∞–ª
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: `aws --version` (–º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ aws-cli/2.31.32)

### 1.2 –ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É –¥–æ S3

**‚ùå –ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á AWS –Ω–µ –º–∞–≤ –ø—Ä–∞–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è S3 bucket —Ç–∞ —Ä–æ–±–æ—Ç–∏ –∑ Terraform backend.

**üîç –ü—Ä–∏—á–∏–Ω–∞**: –£ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ AWS –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –±—É–ª–∏ –æ–±–º–µ–∂—É–≤–∞–ª—å–Ω—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ (explicit deny), —è–∫—ñ –±–ª–æ–∫—É–≤–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ S3 —Å–µ—Ä–≤—ñ—Å—É.

**‚úÖ –†—ñ—à–µ–Ω–Ω—è**: –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–∫—Ä–µ–º–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è Terraform –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏.


## üõ†Ô∏è –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Terraform

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (Terraform v1.13.5)

**–ú–µ—Ç–∞**: –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ Terraform –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —è–∫ –∫–æ–¥ (IaC)

**üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [install-terraform.md](docs/install-terraform.md)

**–®–≤–∏–¥–∫–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:**
1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ https://www.terraform.io/downloads.html
2. –†–æ–∑–ø–∞–∫—É–≤–∞—Ç–∏ —ñ –¥–æ–¥–∞—Ç–∏ –¥–æ PATH
3. –ê–±–æ —á–µ—Ä–µ–∑ winget: `winget install Hashicorp.Terraform`
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏: `terraform --version` (–º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ v1.13.5)

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è AWS –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
1. –°—Ç–≤–æ—Ä—ñ—Ç—å IAM –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —ñ–º'—è–º `sk-terraform-user`. **üìã –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó**: [create-terraform-user.md](docs/create-terraform-user.md)
2. –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ –¥–ª—è –Ω—å–æ–≥–æ Access Key —Ç–∞ Secret Key (**üìã –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è credentials**: [aws-credentials-setup.md](docs/aws-credentials-setup.md)).
3. –î–æ–¥–∞–π—Ç–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É —Ç–∞–∫—ñ –ø—Ä–∞–≤–∞:
   - `AmazonEC2FullAccess`
   - –ö–∞—Å—Ç–æ–º–Ω–∞ –ø–æ–ª—ñ—Ç–∏–∫–∞ `S3AccessOnlyToSvitlanaKizilpinarBucket` ([–¥–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ EC2 –ø–æ–ª—ñ—Ç–∏–∫–∏](docs/add-ec2-permissions.md)).
4. –ù–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ –Ω–æ–≤–∏–π S3 bucket! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤–∂–µ –Ω–∞–¥–∞–Ω–∏–π bucket: `terraform-state-danit10-devops` (region: eu-central-1).
